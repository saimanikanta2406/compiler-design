%{
#include <stdio.h>

int line_no = 1;
%}

%%
^.*\n      { printf("%4d  %s", line_no++, yytext); }
^.+        { printf("%4d  %s\n", line_no++, yytext); }
%%

int main()
{
    FILE *fp = fopen("sample.c", "r");

    if(fp == NULL)
    {
        printf("Error: Cannot open sample.c\n");
        return 1;
    }

    yyin = fp;
    yylex();

    fclose(fp);
    return 0;
}

int yywrap()
{
    return 1;
}
